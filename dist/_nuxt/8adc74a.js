(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{383:function(t,e,n){var content=n(394);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(151).default)("e69e088e",content,!0,{sourceMap:!1})},393:function(t,e,n){"use strict";n(383)},394:function(t,e,n){var r=n(150)((function(i){return i[1]}));r.push([t.i,".full.flex{display:flex;justify-content:center}.ck.ck-editor__main>.ck-editor__editable{min-height:20vh}.company-certificate{height:200;margin:20px auto;width:100}.each-input.full textarea{min-height:40vh}",""]),r.locals={},t.exports=r},408:function(t,e,n){"use strict";n.r(e);n(58);var r=n(8),c=(n(13),n(30),n(31),n(49),{data:function(){return{content:"",certificate:"",cert:"",company:"",editingId:"",editState:!1}},methods:{setCertificate:function(t){var e=this;this.cert=t.target.files[0];var input=t.target;if(input.files&&input.files[0]){var n=new FileReader;n.onload=function(t){e.certificate=t.target.result},n.readAsDataURL(input.files[0])}},processAbout:function(){var form=new FormData;form.append("content",this.content),form.append("certificate",this.cert),this.editState?this.updateAbout(form):this.saveAbout(form)},getAboutCompany:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/about");case 3:return(n=e.sent).data.data.length>0&&(t.editState=!0,t.editingId=null===(r=n.data.data[0])||void 0===r?void 0:r._id),e.next=7,n.data.data[0].certificate;case 7:return t.cert=e.sent,e.next=10,n.data.data[0].content;case 10:t.content=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},saveAbout:function(form){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("/about",form);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},updateAbout:function(form){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.patch("/about/".concat(t.editingId),form);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},computed:{FILE_URL:function(){return this.$store.state.fileURL},editorConfig:function(){return this.$store.state.editor.editorConfig}},components:{"ckeditor-nuxt":function(){return n.e(0).then(n.t.bind(null,528,7))}},mounted:function(){this.getAboutCompany()}}),o=(n(393),n(57)),component=Object(o.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-wrapper w-form"},[e("div",{staticClass:"input-form"},[e("div",{staticClass:"each-input full flex"},[t.certificate?e("img",{staticClass:"company-cert",attrs:{src:t.certificate,alt:""}}):e("img",{staticClass:"company-cert",attrs:{src:"".concat(t.FILE_URL,"/").concat(t.cert),alt:""}})]),t._v(" "),e("div",{staticClass:"editor-holder each-input full"},[t._m(0),t._v(" "),e("client-only",{attrs:{placeholder:"loading..."}},[e("ckeditor-nuxt",{staticClass:"editor",attrs:{config:t.editorConfig},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1),t._v(" "),e("div",{staticClass:"button-holder"},[e("label",{staticClass:"upload-btn banner",attrs:{for:"certificate"}},[e("img",{staticClass:"upload-icon",attrs:{src:"/admin-images/white-upload.svg",loading:"lazy",alt:""}}),t._v(" "),e("div",[t._v("Upload Certificate")]),t._v(" "),e("input",{staticClass:"file-input",attrs:{type:"file",id:"certificate"},on:{change:t.setCertificate}})]),t._v(" "),e("input",{staticClass:"button w-button",attrs:{type:"button",value:"Save"},on:{click:t.processAbout}})])])])}),[function(){var t=this,e=t._self._c;return e("label",{staticClass:"input-label",attrs:{for:"name-4"}},[t._v("Write about your company"),e("span",{staticClass:"important"},[t._v("*")])])}],!1,null,null,null);e.default=component.exports}}]);